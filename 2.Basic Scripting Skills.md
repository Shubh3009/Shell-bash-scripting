# Day2 - Basic Scripting Skills
# **üìù Bash Comments**

## **‚úÖ SINGLE-LINE COMMENT**

### **Syntax:**
```bash
# Your comment here
```

### **Usage:**
```bash
# This is a full line comment
echo "Hello"  # This is an inline comment
# echo "This won't run"
```

### **Key Points:**
- Starts with `#`
- Ends at line end
- Can be anywhere on line
- **Ignored by shell completely**

---

## **‚úÖ MULTI-LINE COMMENT**

### **Method 1: Multiple Single Lines (Most Common)**
```bash
# Line 1 of comment
# Line 2 of comment
# Line 3 of comment
```

### **Method 2: Heredoc Trick (Block Comment)**
```bash
: << 'COMMENT'
This is a 
multi-line
comment block
COMMENT
```

**Or shorter:**
```bash
<< 'COMMENT' 2>/dev/null
Multi-line text
COMMENT
```

### **Method 3: Function Never Called**
```bash
__comment() {
    This is a 
    multi-line comment
    inside unused function
}
```


### **Wrong:**
```bash
<< COMMENT
echo "This might still execute!"
COMMENT
# Missing command before <<
```

### **Right:**
```bash
: << 'COMMENT'
echo "This won't execute"
COMMENT
```

---



---

## **üìã Summary **

```bash
# Single line comment

: << 'END_COMMENT'
Multi-line
comment block
END_COMMENT

# Multiple singles for readability
# -------------------------------
# Section: Database Backup
# -------------------------------
```

# **üìù Bash Variables: Short Notes with Examples**

## **‚úÖ VARIABLE BASICS**

### **1. Definition & Syntax**
```bash
variable_name="value"    # NO spaces around =
echo $variable_name      # Access with $
echo ${variable_name}    # Safer with braces
```

### **2. Your Example 1: Simple Variable**
```bash
name="bibitaji"
echo "Name is $name, and date is $(date)"
```
**Output:**
```
Name is bibitaji, and date is Thu Jan 18 15:30:45 IST 2024
```

### **3. Your Example 2: Read Input**
```bash
echo "enter the name: "
read username
echo "You entered $username"
```
**Output (if user types "John"):**
```
enter the name: 
John
You entered John
```

---

## **üéØ VARIABLE TYPES**

### **1. String Variables (Default)**
```bash
fruit="apple"
color="red"
echo "A $fruit is $color"
# Output: A apple is red
```

### **2. Integer Variables**
```bash
num1=10
num2=20
sum=$((num1 + num2))
echo "Sum: $sum"
# Output: Sum: 30
```

### **3. Read-only Variables**
```bash
readonly pi=3.14
pi=3.14159  # Error: readonly variable
```

---

## **üîß INPUT METHODS**

### **1. Simple `read`**
```bash
echo "Enter age:"
read age
echo "Age: $age"
```

### **2. `read` with Prompt (Your Example 2)**
```bash
read -p "Enter username: " username
echo "you entered $username"
sudo useradd -m $username
echo "New User added"
```
**Output:**
```
Enter username: jetha
you entered jetha
[sudo] password for shubham: 
New User added
```

### **3. Silent Input (Passwords)**
```bash
read -sp "Enter password: " pass
echo  # New line after hidden input
```

### **4. Multiple Variables**
```bash
read -p "Enter name and age: " name age
echo "$name is $age years old"
```

---

## **‚ö° SPECIAL VARIABLES**

| Variable | Purpose | Example Output |
|----------|---------|----------------|
| `$0` | Script name | `./script.sh` |
| `$1, $2...` | Arguments | `$1 = first arg` |
| `$#` | Argument count | `3` |
| `$@` | All arguments | `arg1 arg2 arg3` |
| `$?` | Exit status | `0` (success) |
| `$$` | Process ID | `12345` |

**Example:**
```bash
echo "Script: $0"
echo "First arg: $1"
echo "Total args: $#"
```
```bash
./script.sh hello world
# Output:
# Script: ./script.sh
# First arg: hello
# Total args: 2
```

---


---

## **‚ö†Ô∏è COMMON MISTAKES**

### **WRONG:**
```bash
name = "jetha"    # Spaces around =
echo name         # Missing $
```

### **RIGHT:**
```bash
name="jetha"      # No spaces
echo "$name"      # Use quotes for values
```

---



## **üéØ QUICK REFERENCE**

| Task | Syntax | Example |
|------|--------|---------|
| **Define** | `var=value` | `name="Jetha"` |
| **Access** | `$var` | `echo $name` |
| **Read input** | `read var` | `read username` |
| **Read with prompt** | `read -p "text" var` | `read -p "Enter: " val` |
| **Command output** | `$(command)` | `date=$(date)` |
| **Arithmetic** | `$((expr))` | `sum=$((a+b))` |

---

## **üîç TEST YOUR UNDERSTANDING**

**What will this output?**
```bash
greeting="Namaste"
target="Duniya"
echo "$greeting, $target!"
```
**Output:** `Namaste, Duniya!`

**What about this?**
```bash
read -p "Enter fruit: " fruit
count=5
echo "I have $count ${fruit}s"
```
**Output (if input="apple"):** `I have 5 apples`

# **üìù Bash Arguments **

## **‚úÖ BASIC ARGUMENT ACCESS**

### **Syntax:**
```bash
./script.sh arg1 arg2 arg3
# Inside script:
# $0 = script name
# $1 = arg1, $2 = arg2, $3 = arg3...
```

### **Example 1: Simple Arguments**
```bash
#!/bin/bash
echo "Script: $0"
echo "First: $1"
echo "Second: $2"
echo "Third: $3"
```
**Run & Output:**
```bash
./greet.sh Namaste Jetha Bhide
# Output:
# Script: ./greet.sh
# First: Namaste
# Second: Jetha
# Third: Bhide
```

---

## **üéØ SPECIAL ARGUMENT VARIABLES**

| Variable | Purpose | Example Output |
|----------|---------|----------------|
| `$0` | Script name | `./script.sh` |
| `$1-$9` | Arguments 1-9 | `arg1, arg2...` |
| `${10}-${n}` | Arguments 10+ | Use braces for >9 |
| `$#` | Total argument count | `3` |
| `$@` | All arguments as separate words | `arg1 arg2 arg3` |
| `$*` | All arguments as single string | `arg1 arg2 arg3` |
| `$?` | Exit status of last command | `0` (success) |
| `$$` | Current shell's process ID | `12345` |

---

## **üîß PRACTICAL EXAMPLES**

### **Example 2: User Creation Script**
```bash
#!/bin/bash
# Usage: ./adduser.sh username home_dir
echo "Creating user: $1"
sudo useradd -m -d /home/$2 $1
echo "User $1 created with home: /home/$2"
```
**Run & Output:**
```bash
./adduser.sh jetha /home/jetha_lal
# Output:
# Creating user: jetha
# [sudo password prompt]
# User jetha created with home: /home/jetha_lal
```

### **Example 3: File Backup Script**
```bash
#!/bin/bash
# Usage: ./backup.sh source.txt backup/
cp $1 $2/backup_$(date +%Y%m%d).txt
echo "Backup created: $2/backup_$(date +%Y%m%d).txt"
```
**Run & Output:**
```bash
./backup.sh important.txt backups/
# Output:
# Backup created: backups/backup_20240118.txt
```

---

## **üí° ADVANCED TECHNIQUES**

### **1. Shift Arguments**
```bash
#!/bin/bash
echo "First: $1"
shift  # Remove first argument
echo "Now first: $1"
echo "Total args left: $#"
```
**Run & Output:**
```bash
./shift.sh A B C
# Output:
# First: A
# Now first: B
# Total args left: 2
```

### **2. Loop Through All Arguments**
```bash
#!/bin/bash
echo "All arguments:"
for arg in "$@"
do
    echo "- $arg"
done
```
**Run & Output:**
```bash
./loop.sh apple banana cherry
# Output:
# All arguments:
# - apple
# - banana
# - cherry
```

### **3. Default Values**
```bash
#!/bin/bash
name=${1:-"Guest"}  # Default to "Guest" if no arg
age=${2:-20}        # Default to 20
echo "Hello $name, you are $age years old"
```
**Run & Output:**
```bash
./default.sh
# Output: Hello Guest, you are 20 years old

./default.sh Jetha 45
# Output: Hello Jetha, you are 45 years old
```

### **4. Check Minimum Arguments**
```bash
#!/bin/bash
if [ $# -lt 2 ]; then
    echo "Usage: $0 <name> <age>"
    exit 1
fi
echo "Name: $1, Age: $2"
```
**Run & Output:**
```bash
./check.sh
# Output: Usage: ./check.sh <name> <age>

./check.sh Babita 35
# Output: Name: Babita, Age: 35
```

---

## **‚ö†Ô∏è COMMON MISTAKES**

### **WRONG:**
```bash
echo $1$2$3    # If any arg has spaces: broken
echo $10       # This is $1 followed by 0, not $10!
```

### **RIGHT:**
```bash
echo "$1$2$3"  # Quotes protect spaces
echo "${10}"   # Use braces for arguments >9
```

---

## **üìä REAL-WORLD EXAMPLES**

### **Example 4: Calculator**
```bash
#!/bin/bash
# Usage: ./calc.sh 10 + 5
result=$(( $1 $2 $3 ))
echo "$1 $2 $3 = $result"
```
**Run & Output:**
```bash
./calc.sh 10 + 5
# Output: 10 + 5 = 15

./calc.sh 20 "*" 3  # Note: quote * to prevent globbing
# Output: 20 * 3 = 60
```

### **Example 5: File Search**
```bash
#!/bin/bash
# Usage: ./find.sh .txt /home/user
find $2 -name "*$1" -type f | head -5
echo "Found $(find $2 -name "*$1" -type f | wc -l) files"
```
**Run & Output:**
```bash
./find.sh .txt /home/jetha
# Output:
# /home/jetha/file1.txt
# /home/jetha/file2.txt
# Found 2 files
```

---

## **üéØ QUICK REFERENCE CARD**

| Task | Command | Example |
|------|---------|---------|
| **Access 1st arg** | `$1` | `echo "Hello $1"` |
| **Count args** | `$#` | `echo "Got $# args"` |
| **All args** | `$@` | `for arg in "$@"` |
| **Check if args exist** | `if [ $# -eq 0 ]` | `if [ $# -eq 0 ]; then` |
| **Set defaults** | `${1:-default}` | `name=${1:-"Anonymous"}` |
| **Shift args** | `shift` | `shift; echo "$1"` |

---

## **üîç TEST YOURSELF**

**Q1: What does this script output?**
```bash
#!/bin/bash
echo "$2 $1 $3"
```
**Run:** `./test.sh Hello Beautiful World`  
**Output:** `Beautiful Hello World`

**Q2: What does this output?**
```bash
#!/bin/bash
total=$#
echo "You passed $total arguments"
shift 2
echo "After shift: $# arguments left"
```
**Run:** `./test.sh A B C D`  
**Output:**
```
You passed 4 arguments
After shift: 2 arguments left
```

---

## **‚úÖ BEST PRACTICES**

1. **Always validate**: Check `$#` before using `$1`, `$2`, etc.
2. **Use quotes**: `"$@"` preserves argument boundaries
3. **Provide help**: Show usage when arguments missing
4. **Use defaults**: `${1:-default}` for optional args
5. **Clear names**: Use `source`, `dest` instead of just `$1`, `$2`

---

## **üöÄ MINI PROJECT: Argument Processor**

```bash
#!/bin/bash
# process.sh - Flexible argument handler

while [[ $# -gt 0 ]]; do
    case $1 in
        -n|--name)
            name="$2"
            shift 2
            ;;
        -a|--age)
            age="$2"
            shift 2
            ;;
        -h|--help)
            echo "Usage: $0 -n name -a age"
            exit 0
            ;;
        *)
            echo "Unknown argument: $1"
            exit 1
            ;;
    esac
done

echo "Name: ${name:-Not specified}, Age: ${age:-Not specified}"
```

**Usage:**
```bash
./process.sh -n Jetha -a 45
# Output: Name: Jetha, Age: 45
```

---

